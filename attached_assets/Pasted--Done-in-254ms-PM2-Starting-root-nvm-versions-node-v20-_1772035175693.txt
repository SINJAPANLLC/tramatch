⚡ Done in 254ms
[PM2] Starting /root/.nvm/versions/node/v20.20.0/bin/npm in fork_mode (1 instance)
[PM2] Done.
┌────┬────────────────────┬──────────┬──────┬───────────┬──────────┬──────────┐
│ id │ name               │ mode     │ ↺    │ status    │ cpu      │ memory   │
├────┼────────────────────┼──────────┼──────┼───────────┼──────────┼──────────┤
│ 0  │ tramatch           │ fork     │ 0    │ online    │ 0%       │ 29.0mb   │
└────┴────────────────────┴──────────┴──────┴───────────┴──────────┴──────────┘
root@srv1087935:/var/www/tramatch# pm2 logs tramatch --lines 30
[TAILING] Tailing last 30 lines for [tramatch] process (change the value with --lines option)
/root/.pm2/logs/tramatch-out.log last 30 lines:
0|tramatch | > NODE_ENV=production node dist/index.cjs
0|tramatch | 
0|tramatch | 
0|tramatch | > rest-express@1.0.0 start
0|tramatch | > NODE_ENV=production node dist/index.cjs
0|tramatch | 
0|tramatch | 
0|tramatch | > rest-express@1.0.0 start
0|tramatch | > NODE_ENV=production node dist/index.cjs
0|tramatch | 
0|tramatch | 
0|tramatch | > rest-express@1.0.0 start
0|tramatch | > NODE_ENV=production node dist/index.cjs
0|tramatch | 
0|tramatch | 
0|tramatch | > rest-express@1.0.0 start
0|tramatch | > NODE_ENV=production node dist/index.cjs
0|tramatch | 
0|tramatch | 
0|tramatch | > rest-express@1.0.0 start
0|tramatch | > NODE_ENV=production node dist/index.cjs
0|tramatch | 
0|tramatch | 
0|tramatch | > rest-express@1.0.0 start
0|tramatch | > NODE_ENV=production node dist/index.cjs
0|tramatch | 
0|tramatch | 
0|tramatch | > rest-express@1.0.0 start
0|tramatch | > NODE_ENV=production node dist/index.cjs
0|tramatch | 

/root/.pm2/logs/tramatch-error.log last 30 lines:
0|tramatch | s._client.delete(Ce`/vector_stores/${e}`,{...t,headers:Qe([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,r){return this._client.getAPIList(Ce`/vector_stores/${e}/search`,zs,{body:t,method:"post",...r,headers:Qe([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}};jo.Files=Hf;jo.FileBatches=zf});var Eu,Dk=ee(()=>{Ft();Pr();qr();za();fr();Eu=class extends Le{create(e,t){return this._client.post("/videos",Fo({body:e,...t},this._client))}retrieve(e,t){return this._client.get(Ce`/videos/${e}`,t)}list(e={},t){return this._client.getAPIList("/videos",To,{query:e,...t})}delete(e,t){return this._client.delete(Ce`/videos/${e}`,t)}downloadContent(e,t={},r){return this._client.get(Ce`/videos/${e}/content`,{query:t,...r,headers:Qe([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}remix(e,t,r){return this._client.post(Ce`/videos/${e}/remix`,Fo({body:t,...r},this._client))}}});var Wf,x$,b1,Au,Rk=ee(()=>{$a();ns();Ft();qr();Au=class extends Le{constructor(){super(...arguments),Wf.add(this)}async unwrap(e,t,r=this._client.webhookSecret,a=300){return await this.verifySignature(e,t,r,a),JSON.parse(e)}async verifySignature(e,t,r=this._client.webhookSecret,a=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");ye(this,Wf,"m",x$).call(this,r);let c=Qe([t]).values,p=ye(this,Wf,"m",b1).call(this,c,"webhook-signature"),f=ye(this,Wf,"m",b1).call(this,c,"webhook-timestamp"),v=ye(this,Wf,"m",b1).call(this,c,"webhook-id"),b=parseInt(f,10);if(isNaN(b))throw new Ms("Invalid webhook timestamp format");let m=Math.floor(Date.now()/1e3);if(m-b>a)throw new Ms("Webhook timestamp is too old");if(b>m+a)throw new Ms("Webhook timestamp is too new");let h=p.split(" ").map(S=>S.startsWith("v1,")?S.substring(3):S),g=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),_=v?`${v}.${f}.${e}`:`${f}.${e}`,C=await crypto.subtle.importKey("raw",g,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let S of h)try{let I=Buffer.from(S,"base64");if(await crypto.subtle.verify("HMAC",C,I,new TextEncoder().encode(_)))return}catch{continue}throw new Ms("The given webhook signature does not match the expected signature")}};Wf=new WeakSet,x$=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},b1=function(e,t){if(!e)throw new Error("Headers are required");let r=e.get(t);if(r==null)throw new Error(`Missing required header: ${t}`);return r}});var v$=ee(()=>{Rk()});var y$=ee(()=>{v$()});var b$=ee(()=>{Yq();Jq();IC();PC();VC();GC();XC();JC();ZC();rk();ik();pk();dk();mk();hk();gk();yk();Ak();Tk();Ik();Ok();Dk();y$()});var Lk,jk,w1,w$,Rt,_1=ee(()=>{$a();RS();Co();cf();qv();BS();dm();xq();Cq();MS();Bs();Pr();nC();b$();Yv();PC();GC();ZC();ik();mk();hk();gk();Dk();IC();VC();CC();XC();JC();rk();pk();dk();yk();Ak();Tk();Ik();Ok();Rk();BS();qr();qC();hm();Co();Rt=class{constructor({baseURL:e=Nc("OPENAI_BASE_URL"),apiKey:t=Nc("OPENAI_API_KEY"),organization:r=Nc("OPENAI_ORG_ID")??null,project:a=Nc("OPENAI_PROJECT_ID")??null,webhookSecret:c=Nc("OPENAI_WEBHOOK_SECRET")??null,...p}={}){if(Lk.add(this),w1.set(this,void 0),this.completions=new pu(this),this.chat=new Fc(this),this.embeddings=new du(this),this.files=new hu(this),this.images=new yu(this),this.audio=new Hs(this),this.moderations=new wu(this),this.models=new bu(this),this.fineTuning=new os(this),this.graders=new jc(this),this.vectorStores=new jo(this),this.webhooks=new Au(this),this.beta=new ss(this),this.batches=new su(this),this.uploads=new Bc(this),this.responses=new Ro(this),this.realtime=new Do(this),this.conversations=new Rc(this),this.evals=new Lc(this),this.containers=new Dc(this),this.skills=new Lo(this),this.videos=new Eu(this),t===void 0)throw new yt("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");let f={apiKey:t,organization:r,project:a,webhookSecret:c,...p,baseURL:e||"https://api.openai.com/v1"};if(!f.dangerouslyAllowBrowser&&fq())throw new yt(`It looks like you're running in a browser-like environment.
0|tramatch |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
0|tramatch | 
0|tramatch | yt [Error]: Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.
0|tramatch |     at new Rt (/var/www/tramatch/dist/index.cjs:133:56309)
0|tramatch |     at Object.<anonymous> (/var/www/tramatch/dist/index.cjs:587:2878)
0|tramatch |     at Module._compile (node:internal/modules/cjs/loader:1521:14)
0|tramatch |     at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
0|tramatch |     at Module.load (node:internal/modules/cjs/loader:1266:32)
0|tramatch |     at Module._load (node:internal/modules/cjs/loader:1091:12)
0|tramatch |     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
0|tramatch |     at node:internal/main/run_main_module:28:49
0|tramatch | 
0|tramatch | Node.js v20.20.0


